

<!DOCTYPE html>
<!-- This is based on DillingerLee's great template here:
https://github.com/Team-Code/KA_Offline -->
<html> 
 <head>
    <title>Processing.JS inside Webpages: Template</title> 
    <style>

        #title{
            color:aqua;
        }
        #redcarinstructions{
            color:red;
        }
        #orangecarinstructions{
            color:orange;
        }
        body{
            background-color: blue;
        }


    </style>
</head>
 <body>
     <h1 align = "Center" id = "title">NeedForSpeed 2</h1>
    <p align="center"> 
    <!--This draws the Canvas on the webpage -->
      <canvas id="mycanvas"></canvas> 
    </p>
 </body>
 
 <!-- Run all the JavaScript stuff -->
 <!-- Include the processing.js library -->
 <!-- See https://khanacademy.zendesk.com/hc/en-us/articles/202260404-What-parts-of-ProcessingJS-does-Khan-Academy-support- for differences -->
 <script src="https://cdn.jsdelivr.net/processing.js/1.4.8/processing.min.js"></script> 
 
 <script>
    var sketchProc = function(processingInstance) {
     with (processingInstance) {
        size(500, 450); 
        frameRate(30);
        
        // ProgramCodeGoesHere
        background(51, 122, 56); //defining the color of the background as green simulating a racing field



var mainRedCarX = 50;//the x coordinate of the main red car (user controlled)
var mainRedCarY = 170;//the y coordinate of the main red car (user controlled)

var greenCarX = 50;
var greenCarY = 146;

var blueCarX = 50;
var blueCarY = 198;

var mainOrangeCarX = 50;
var mainOrangeCarY = 50;

var blackCarX = 50;
var blackCarY = 236;

var computerBlueCarX = mainRedCarX;//the x coordinate of the main blue car (computer controlled), setting it equal to the red car

var finishLineX = 426;

noStroke();//for all of the objects so that there is no outline



draw = function() {

    
    
    
    fill(46, 43, 46);//making the road dark gray
    rect(0,103.5,500,193); //the road
    
    fill(255, 255, 255);
    rect(156,177,10,11); //traffic lane marker
    
    fill(255, 255, 255);
    rect(55,177,140,11);7 //traffic lane marker

    fill(255, 255, 255);
    rect(253,177,140,11); //traffic lane marker
    
    
    fill(255, 0, 0); //coloring the main car red
    rect(mainRedCarX,mainRedCarY,42,11); //the body of the main car
    
    fill(0, 0, 0);//coloring the tires of the car black
    ellipse(mainRedCarX,mainRedCarY + 13,10,10); //the back tire
    ellipse(mainRedCarX + 42,mainRedCarY + 13,10,10);//the front tire.

    if(keyPressed && keyCode === RIGHT){ //making the car travel 1 extra pixel forward everytime a right arrow is pressed.
        mainRedCarX += 4;
    }else if(keyPressed && keyCode === LEFT){
        mainRedCarX -= 4;
    }//making the car travel 1 extra pixel backwards everytime the left arrow key is pressed.

    
    fill(0, 255, 0);
    rect(greenCarX,greenCarY,42,11);//defining the green car body and coloring it.
    
    fill(0, 0, 0);
    ellipse(greenCarX,greenCarY + 13,10,10);//the first tire of the green car
    ellipse(greenCarX + 41,greenCarY + 13,10,10);//the second tire of the green car
 
 
   greenCarX += random(1,2); //the speed of the green car.

   
    if(greenCarX > 400){
        greenCarX = 0;
    } else if (greenCarX > finishLineX && redCarWon === false && orangeCarWon === false && blackCarWon === false){
        fill(0, 255, 0);
        text("green car wins", 90,90);
        
        mainRedCarX = 50;
        blackCarX = 50;
        greenCarX = 50;
        blueCarX = 50;
        mainOrangeCarX = 50;
        
        greenCarWon = true;
        
    }
    
    if(mainRedCarX > 400){
        mainRedCarX = 0;
    } else if (mainRedCarX > finishLineX && orangeCarWon === false && blackCarWon === false && greenCarWon === false){
        fill(255, 0, 0);
        text("red car wins", 90,90);
        redCarWon = true;
        
        blackCarX = 50;
        greenCarX = 50;
        blueCarX = 50;
        mainOrangeCarX = 50;
    }
    fill(255, 255, 0);
    rect(finishLineX,104,22,193);
    fill(0, 0, 255);
    rect(blueCarX,blueCarY,42,11);
    fill(0, 0, 0);
    ellipse(blueCarX ,blueCarY + 11,10,10);
    fill(0, 0, 0); 
    ellipse(blueCarX + 41,blueCarY + 11,10,10);
    
    blueCarX += random(1,2);
    
    if(blueCarX > 400){
        blueCarX = 0;
    } else if(blueCarX > finishLineX && redCarWon === false && greenCarWon === false && blackCarWon === false && orangeCarWon === false){
        fill(0, 0, 255);
        text("blue car wins", 90,90);
        
        
        mainRedCarX = 50;
        greenCarX = 50;
        
        blueCarWon = true;
    }
    
    fill(255, 165, 0);
    rect(mainOrangeCarX,118,42,11);
    
    fill(0, 0, 0);
    ellipse(mainOrangeCarX,130,10,10);
    
    fill(0, 0, 0);
    ellipse(mainOrangeCarX + 41,130,10,10);
    
    if(keyPressed && keyCode === 68){ //making the car travel 1 extra pixel forward everytime a right arrow is pressed.
        mainOrangeCarX += 5;
    }else if(keyPressed && keyCode === 65){
        mainOrangeCarX -= 5;
    }//making the car travel 1 extra pixel backwards everytime the left arrow key is pressed.
    if(mainOrangeCarX > 400){
        mainOrangeCarX = 0;
    } else if(mainOrangeCarX > finishLineX && redCarWon === false && blackCarWon === false && greenCarWon === false){
        
        fill(255, 170, 0);
        mainOrangeCarX = 0;
        text("Orange Car Wins",90,90);
        
        orangeCarWon = true;
        
    }
    
    fill(0, 0, 0);
    rect(blackCarX,225,42,11);
    
    ellipse(blackCarX,blackCarY,10,10);
    ellipse(blackCarX + 42,blackCarY,10,10);
    
    
    blackCarX += random(1,4);
    if(blackCarX > 400){
        blackCarX = 0;
    } else if(blackCarX > finishLineX && redCarWon === false && orangeCarWon === false){
        
        fill(0, 0, 0);
        text("black car wins",90,90);
        
        blackCarX = 50;
        greenCarX = 50;
        blueCarX = 50;
        mainRedCarX = 50;
        mainOrangeCarX = 50;
        
        blackCarWon = true;
        
    }
    
};













    }};

    // Get the canvas that Processing-js will use
    var canvas = document.getElementById("mycanvas"); 
    // Pass the function sketchProc (defined in myCode.js) to Processing's constructor.
    var processingInstance = new Processing(canvas, sketchProc); 
 </script>

    <ul id = "redcarinstructions">
            <li>Move forward for red: right arrow</li>
            <li>Move backward for red: left arrow</li>
    </ul>
    <ul id = "orangecarinstructions">
        <li>Move forward for orange: d key</li>
        <li>Move backward for orange: a key</li>
    </ul>

</html>
